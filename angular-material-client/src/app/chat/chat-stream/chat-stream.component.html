<mat-card>
  <mat-card-content>
    <div class="chat-stream" style="height: 80vh; overflow-y: scroll;">
      <!-- <mat-card *ngFor="let message of publishedMessage" style="width: 300px; background-color: lightcoral;"
          [ngStyle]="{'float': (loggedinUserId === message.from) ? 'right' : ''}">
        <mat-card-header>
          {{message.fromUserName}}
        </mat-card-header>
        <mat-card-content>
          {{message.message}}
        </mat-card-content>
      </mat-card> -->
      <div class="stream-div">
        <div class="chat-message" *ngFor="let message of publishedMessage" [class.pull-right] = "loggedinUserId === message.from">
          <div class="chat-username">{{message.fromUserName}}</div>
          {{message.message}}
        </div>  
      </div>
    </div>
    
    <div class="message-form">
      <div *ngIf="showTypingIndicator" class="typing-indicator">{{typingUser}} is typing...</div>
      <form (ngSubmit)="sendMessage()">
        <mat-form-field style="width: 100%">
          <mat-label>Message</mat-label>
          <input matInput class="form-control" placeholder="Hello..." autocomplete="off" name="message" [(ngModel)]="message" (keypress)="sendTypeIndicator()">
        </mat-form-field>
      </form>  
    </div>
  </mat-card-content>
</mat-card>